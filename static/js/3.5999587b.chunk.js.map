{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/FormPost/FormPost.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","deactivateEditMode","updateStatus","className","s","onDoubleClick","statusText","statusSet","autoFocus","onChange","e","currentTarget","onBlur","type","onClick","ProfileInfo","profile","contacts","photo","src","photos","large","alt","inf","fullName","keys","map","link","idx","href","key","Post","item","message","counts","maxLength","maxLengthCreator","reduxForm","form","onSubmit","handleSubmit","Field","name","component","Textarea","placeholder","validate","required","MyPosts","React","memo","console","log","postsElements","posts","reverse","post","id","postsBlock","formData","addPost","postText","MyPostsContainer","connect","state","profilePage","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","isFetching","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.5999587b.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfileInfo_profile__17rZF\",\"photo\":\"ProfileInfo_photo__2Uky6\",\"contacts\":\"ProfileInfo_contacts__2CZVG\",\"link\":\"ProfileInfo_link__25f0C\",\"fullName\":\"ProfileInfo_fullName__3NrVc\",\"statusText\":\"ProfileInfo_statusText__3ppZC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__lkB6a\",\"form\":\"MyPosts_form__2bZ8T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__19BqJ\"};","import React, { useEffect, useState } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  \r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n  \r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status]);\r\n  \r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n  \r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n  \r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n  \r\n  \r\n  return (\r\n    <div className={s.status}>\r\n      {!editMode &&\r\n      <div onDoubleClick={activateEditMode} className={s.statusText}>\r\n        {props.status}\r\n      </div>\r\n      }\r\n      {editMode &&\r\n      <div className={s.statusSet}>\r\n        <input autoFocus onChange={onStatusChange} onBlur={deactivateEditMode} value={status} type=\"text\"/>\r\n        <button onClick={deactivateEditMode}>save</button>\r\n      </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from 'react';\nimport s from './ProfileInfo.module.css';\nimport Preloader from '../../common/preloader/preloader';\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\n\nconst ProfileInfo = ({ profile, status, updateStatus }) => {\n  if (!profile) {\n    return <Preloader />;\n  }\n  const { contacts } = profile;\n  return (\n    <div className={s.profile}>\n      <div className={s.photo}>\n        <img\n          src={\n            profile.photos.large ? profile.photos.large : 'https://i.stack.imgur.com/T17Mh.png?s=328&g=1'\n          }\n          alt=\"\"\n        />\n      </div>\n      <div className={s.inf}>\n        <div className={s.fullName}>{profile.fullName}</div>\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n        <div className={s.contacts}>\n          {Object.keys(contacts).map((link, idx) =>\n            contacts[link] ? (\n              <a href={contacts[link]} className={s.link} key={idx}>\n                {contacts[link]}\n              </a>\n            ) : (\n              ''\n            )\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => (\r\n  <div className={s.item}>\r\n    <img src=\"https://im0-tub-ru.yandex.net/i?id=b3f2a9d3e896df25cd12bb0b93cb7219&n=13&exp=1\" alt=\"\" />\r\n    {props.message}\r\n    <div>\r\n      <span>Like {props.counts}</span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport s from '../MyPosts.module.css';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../../utils/validation/validators';\r\nimport { Textarea } from '../../../common/FormsControls/FormsControls';\r\n\r\nconst maxLength = maxLengthCreator(10);\r\n\r\nconst FormPost = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={s.form}>\r\n      <Field name={'postText'} component={Textarea} placeholder={'Your message'} validate={[required, maxLength]}/>\r\n      <button>Add post</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default reduxForm({ form: 'post' })(FormPost);","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport FormPost from './FormPost/FormPost';\r\n\r\nconst MyPosts = React.memo(props => {\r\n  console.log('Render1');\r\n  const postsElements = [...props.posts]\r\n    .reverse()\r\n    .map((post) => <Post message={post.message} counts={post.counts} key={post.id}/>);\r\n  \r\n  const addPost = (formData) => {\r\n    props.addPost(formData.postText);\r\n  };\r\n  \r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <h2>My posts</h2>\r\n      <FormPost onSubmit={addPost}/>\r\n      <div className={s.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default MyPosts;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addPost } from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nconst mapStateToProps = (state) => ({\r\n  posts: state.profilePage.posts,\r\n});\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, { addPost })(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Profile = ({ profile, status, updateStatus }) => (\r\n  <div className={s.profile}>\r\n    <ProfileInfo profile={profile} status={status} updateStatus={updateStatus} />\r\n    <MyPostsContainer />\r\n  </div>\r\n);\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport Profile from './Profile';\r\nimport Preloader from '../common/preloader/preloader';\r\nimport { getStatus, getUserProfile, updateStatus } from '../../redux/profileReducer';\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId){\r\n        userId = this.props.authorizedUserId;\r\n        if (!userId){\r\n            this.props.history.push('/login');\r\n        } \r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? (\r\n          <Preloader />\r\n        ) : (\r\n          <Profile {...this.props} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  isFetching: state.profilePage.isFetching,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.id,\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\r\n  withRouter\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}